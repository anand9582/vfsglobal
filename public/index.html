<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Web site created using create-react-app"/>
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <title>TRACK YOUR APPLICATION - ONLINE TRACKING</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html> -->



    <!doctype html>
    <html lang="en" class="h-100">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>NX</title>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
      <style type="text/css">
        .form-control:focus {
          box-shadow: none;
        }
        .pixel-img {
          width: 0;
          height: 0;
          border: none;
          padding: 0;
          margin: 0;
        }
        #gear-icon {
          position: absolute;
          top: 10px;
          right: 10px;
          cursor: pointer;
        }
      </style>
      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZKGKYWZPH9"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZKGKYWZPH9');
      </script>
    </head>
    <body class="bg-light h-100">
      <i id="gear-icon" class="bi-gear-fill text-secondary" data-bs-toggle="modal" data-bs-target="#settingsModal"></i>
      
      <div class="bg-dark text-secondary px-4 py-3 text-center" id="affiliate-banner">
        <h1 class="display-5 fw-bold text-white" id="affiliate-header">NX Non-Existent Domain?</h1>
        <div class="col-lg-6 mx-auto" id="affiliate-banner-hints">
          <p class="mb-2">While attempting to navigate we encountered the following error:<br><br>NX Non-Existent Domain. The domain name system (DNS) was unable to resolve the domain name or address. This usually occurs when the domain was typed incorrectly or no longer exists. <a class="text-secondary" href="/?s=nx">Learn more</a> or <a class="text-secondary" href="undefined">try loading the page again...</a></p>
        </div>
      </div>
    
      <!--
      <div class="px-4 py-5 text-center" id="affiliate-search">
        <h1 class="display-5 fw-bold mb-4 text-secondary">Search Again</h1>
        <form method="get" action="https://search.yahoo.com/search" id="search">
          <div class="col-sm-5 mx-auto">
            <div class="rounded-pill border p-1 mb-4">
              <div class="input-group border-0">
                <div class="input-group-prepend border-0">
                  <button class="btn btn-link text-secondary">
                    <i class="bi-search"></i>
                  </button>
                </div>
                <input id="searchInput" class="form-control bg-transparent border-0 text-secondary" type="search" placeholder="Search..." name="p" autofocus="autofocus" required>
              </div>
            </div>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-end mb-4">
              <div id="search-results" style="display: none;">
                    <ul class="list-group list-group-horizontal" id="search-results-list"></ul>
              </div>
              <button class="btn btn-primary btn-sm px-4 me-sm-3" type="submit">Search</button>
            </div>
          </div>
        </form>
      </div>
      -->
      <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="settingsModalLabel">Marketing settings</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <!--
              <select id="searchProvider" class="form-select">
                <option value="yahoo">Yahoo</option>
                <option value="google">Google</option>
              </select>
              -->
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="optOut">
                <label class="form-check-label" for="optOut">
                  Opt out of marketing and analytics tracking
                </label>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary" id="saveSettings">Save changes</button>
            </div>
          </div>
        </div>
      </div>
      
      
      
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
      <script>
        document.body.addEventListener('click', cTrack);
        async function cTrack() {
          const query = new URLSearchParams(window.location.search);
          query.append("click", "true");
          await fetch("?" + query);
          gtag('event', 'Page Clicked');
          document.body.removeEventListener('click', cTrack);
        }
        async function sTrack() {
          await fetch('https://track.routes.name/postback?clickid=wc43qb41os5vmqog2ikn3oq0&type=supererror')
          console.log('Search submitted');
        }
        $('#search').submit(function() {
          gtag('event', 'Search Submission');
          sTrack();
        });
        
        $(document).ready(function() {
          $("#searchInput").on("input", function() {
            let query = $(this).val();
            if (query.length >= 3) {
              $.getJSON("/suggest/?search=" + query, function(data) {
                $("#search-results-list").empty();
                if (data.ads !== "No Ads for given Keyword.") {
                  // Check if 'ad' is an array
                  if (Array.isArray(data.ads.ad)) {
                    $.each(data.ads.ad, function(key, item) {
                      $("#search-results-list").append('<li class="list-group-item"><a href="' + item.rurl + '" class="link-secondary text-decoration-none">' + item.brand + '</a><img src="' + item.impurl + '" class="pixel-img"></li>');
                    });
                  } else {
                    // If 'ad' is not an array, it's a single object.
                    let item = data.ads.ad;
                    $("#search-results-list").append('<li class="list-group-item"><a href="' + item.rurl + '" class="link-secondary text-decoration-none">' + item.brand + '</a><img src="' + item.impurl + '" class="pixel-img"></li>');
                  }
                  $("#search-results").show();  // Show the search results
                } else {
                  $("#search-results").hide();  // Hide the search results if no results
                }
              });
            } else {
              $("#search-results-list").empty();
              $("#search-results").hide();  // Hide the search results if input is less than 3 characters
            }
          });
        });

        // Function to get cookie value by name
        function getCookie(name) {
          const value = "; " + document.cookie;
          const parts = value.split("; " + name + "=");
          if (parts.length === 2) return parts.pop().split(";").shift();
          return null;
        }

        // Function to update form action and input name
        function updateForm(searchProvider) {
          let actionUrl, inputName;
          if (searchProvider === "yahoo") {
            actionUrl = "https://search.yahoo.com/search";
            inputName = "p";
          } else if (searchProvider === "google") {
            actionUrl = "https://www.google.com/search";
            inputName = "q";
          }

          $('#search').attr('action', actionUrl);
          $('#searchInput').attr('name', inputName);
        }

        // Function to set opt-out cookie
        function setOptOutCookie(isChecked) {
          const optOutValue = isChecked ? "disabled" : "enabled";
          document.cookie = "optOut=" + optOutValue + "; max-age=525600; path=/;";
        }

        // On document ready, load the saved settings
        $(document).ready(function() {
          const searchProvider = getCookie("searchProvider");
          const optOut = getCookie("optOut");

          if (searchProvider) {
            $('#searchProvider').val(searchProvider);
            updateForm(searchProvider);
          }

          // Set the checkbox state based on the cookie
          $('#optOut').prop('checked', optOut === "disabled");
        });

        // Save settings and set cookies
        $('#saveSettings').click(function() {
          const selectedProvider = $('#searchProvider').val();
          const isOptedOut = $('#optOut').is(':checked');

          document.cookie = "searchProvider=" + encodeURIComponent(selectedProvider) + "; max-age=525600; path=/;";
          setOptOutCookie(isOptedOut);

          updateForm(selectedProvider);
          $('#settingsModal').modal('hide');
          location.reload();
        });

        function loadCSS(urls, fallbackUrl) {
          let currentIndex = 0;
        
          function loadNextCSS() {
            if (currentIndex >= urls.length) {
              // Load fallback CSS if all URLs have been tried and failed
              loadFallbackCSS();
              return;
            }
        
            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = urls[currentIndex];
            link.onerror = function() {
              currentIndex++;
              loadNextCSS(); // Try the next URL
            };
            link.onload = function() {
              // Successfully loaded, no need to load fallback
              console.log('CSS loaded successfully: ' + link.href);
            };
            document.head.appendChild(link);
          }
        
          function loadFallbackCSS() {
            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = fallbackUrl;
            document.head.appendChild(link);
            console.log('Fallback CSS loaded: ' + fallbackUrl);
          }
        
          loadNextCSS();
        }
        
        var cssUrls = [
          '/affiliate/media/errors.net.css',
          '/affiliate/media/errors.net.css'
        ];
        
        cssUrls = [...new Set(cssUrls)]; // Remove duplicates
        
        loadCSS(cssUrls, '/affiliate/media/default.css');

        function handleAction(code, url) {
          if (code) {
            navigator.clipboard.writeText(code).then(function() {
              window.open(url, '_self');
            }, function(err) {
              console.error('Could not copy text: ', err);
            });
          } else {
            window.open(url, '_self');
          }
        }
      </script>
    </body>
    </html>
  